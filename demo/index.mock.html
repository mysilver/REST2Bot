<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>REST2Bot</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src='http://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js'></script>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

    <style>
        .qq-upload-retry-selector {
            display: none !important;
        }

        /*custom font*/
        @import url(https://fonts.googleapis.com/css?family=Montserrat);

        /*basic reset*/
        * {
            margin: 0;
            padding: 0;
        }

        html {
            height: 100%;
            /*Image only BG fallback*/

            /*background = gradient + image pattern combo*/
            background: linear-gradient(rgb(46, 90, 103), rgba(14, 150, 181, 0.6));
        }

        body {
            font-family: montserrat, arial, verdana;
        }

        /*form styles*/
        #msform {
            width: 900px;
            margin: 50px auto;
            text-align: center;
            position: relative;
        }

        #msform fieldset {
            background: white;
            border: 0 none;
            border-radius: 3px;
            box-shadow: 0 0 15px 1px rgba(0, 0, 0, 0.4);
            padding: 20px 30px;
            box-sizing: border-box;
            width: 80%;
            margin: 0 10%;

            /*stacking fieldsets above each other*/
            position: relative;
        }

        /*Hide all except first fieldset*/
        #msform fieldset:not(:first-of-type) {
            display: none;
        }

        /*inputs*/
        #msform input, #msform textarea {
            padding: 15px;
            border: 1px solid #ccc;
            border-radius: 3px;
            margin-bottom: 10px;
            width: 100%;
            box-sizing: border-box;
            font-family: montserrat;
            color: #2C3E50;
            font-size: 10px;
        }

        /*buttons*/
        #msform .action-button {
            width: 100px;
            background: #27AE60;
            font-weight: bold;
            color: white;
            border: 0 none;
            border-radius: 1px;
            cursor: pointer;
            padding: 10px 5px;
            margin: 10px 5px;
        }

        #msform .action-button:hover, #msform .action-button:focus {
            box-shadow: 0 0 0 2px white, 0 0 0 3px #27AE60;
        }

        /*headings*/
        .fs-title {
            font-size: 15px;
            text-transform: uppercase;
            color: #2C3E50;
            margin-bottom: 10px;
        }

        .fs-subtitle {
            font-weight: normal;
            font-size: 13px;
            color: #666;
            margin-bottom: 20px;
        }

        /*progressbar*/
        #progressbar {
            margin-bottom: 30px;
            overflow: hidden;
            /*CSS counters to number the steps*/
            counter-reset: step;
        }

        #progressbar li {
            list-style-type: none;
            color: white;
            text-transform: uppercase;
            font-size: 9px;
            width: 20%;
            float: left;
            position: relative;
        }

        #progressbar li:before {
            content: counter(step);
            counter-increment: step;
            width: 20px;
            line-height: 20px;
            display: block;
            font-size: 10px;
            color: #333;
            background: white;
            border-radius: 3px;
            margin: 0 auto 5px auto;
        }

        /*progressbar connectors*/
        #progressbar li:after {
            content: '';
            width: 100%;
            height: 2px;
            background: white;
            position: absolute;
            left: -50%;
            top: 9px;
            z-index: -1; /*put it behind the numbers*/
        }

        #progressbar li:first-child:after {
            /*connector not needed before the first step*/
            content: none;
        }

        /*marking active/completed steps green*/
        /*The number of the step and the connector before it = green*/
        #progressbar li.active:before, #progressbar li.active:after {
            background: #27AE60;
            color: white;
        }

        .qq-file-name {
            color: cadetblue;
        }

        .translators .checkbox {
            width: 10px !important;
        }

        .translators div {
            text-align: left !important;
            font-size: 12px;
        }


    </style>
    <style>
        /* The container */
        .container {
            display: block;
            position: relative;
            padding-left: 35px;
            margin-bottom: 12px;
            cursor: pointer;
            /*font-size: 22px;*/
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        /* Hide the browser's default checkbox */
        .container input {
            position: absolute;
            opacity: 0;
            cursor: pointer;
            height: 0;
            width: 0;
        }

        /* Create a custom checkbox */
        .checkmark {
            position: absolute;
            top: 0;
            left: 0;
            height: 25px;
            width: 25px;
            background-color: #eee;
        }

        /* On mouse-over, add a grey background color */
        .container:hover input ~ .checkmark {
            background-color: #ccc;
        }

        /* When the checkbox is checked, add a blue background */
        .container input:checked ~ .checkmark {
            background-color: #2196F3;
        }

        /* Create the checkmark/indicator (hidden when not checked) */
        .checkmark:after {
            content: "";
            position: absolute;
            display: none;
        }

        /* Show the checkmark when checked */
        .container input:checked ~ .checkmark:after {
            display: block;
        }

        /* Style the checkmark/indicator */
        .container .checkmark:after {
            left: 9px;
            top: 5px;
            width: 5px;
            height: 10px;
            border: solid white;
            border-width: 0 3px 3px 0;
            -webkit-transform: rotate(45deg);
            -ms-transform: rotate(45deg);
            transform: rotate(45deg);
        }
    </style>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/file-uploader/5.16.2/all.fine-uploader/fine-uploader-gallery.css"
          rel="stylesheet"/>
    <link href="jquery.json-viewer.css" rel="stylesheet"/>
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/file-uploader/5.16.2/jquery.fine-uploader/fine-uploader.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/file-uploader/5.16.2/fine-uploader.min.js"></script>
    <script type="text/javascript" src="jquery.json-editor.min.js"></script>

    <script type="text/template" id="qq-template">
        <div class="qq-uploader-selector qq-uploader qq-gallery" qq-drop-area-text="Drop files here">
            <div class="qq-total-progress-bar-container-selector qq-total-progress-bar-container">
                <div role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"
                     class="qq-total-progress-bar-selector qq-progress-bar qq-total-progress-bar"></div>
            </div>
            <div class="qq-upload-drop-area-selector qq-upload-drop-area" qq-hide-dropzone>
                <span class="qq-upload-drop-area-text-selector"></span>
            </div>
            <div class="qq-upload-button-selector qq-upload-button">
                <div style="font-size: smaller;">Upload a file</div>
            </div>
            <span class="qq-drop-processing-selector qq-drop-processing">
                <span>Processing dropped files...</span>
                <span class="qq-drop-processing-spinner-selector qq-drop-processing-spinner"></span>
            </span>
            <ul class="qq-upload-list-selector qq-upload-list" role="region" aria-live="polite"
                aria-relevant="additions removals">
                <li>
                    <span role="status" class="qq-upload-status-text-selector qq-upload-status-text"></span>
                    <div class="qq-progress-bar-container-selector qq-progress-bar-container">
                        <div role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"
                             class="qq-progress-bar-selector qq-progress-bar"></div>
                    </div>
                    <span class="qq-upload-spinner-selector qq-upload-spinner"></span>
                    <div class="qq-thumbnail-wrapper">
                        <img class="qq-thumbnail-selector" qq-max-size="120" qq-server-scale>
                    </div>
                    <button type="button" class="qq-upload-cancel-selector qq-upload-cancel">X</button>
                    <button type="button" class="qq-upload-retry-selector qq-upload-retry">
                        <span class="qq-btn qq-retry-icon" aria-label="Retry"></span>
                        Retry
                    </button>

                    <div class="qq-file-info">
                        <div class="qq-file-name">
                            <span class="qq-upload-file-selector qq-upload-file"></span>
                            <span class="qq-edit-filename-icon-selector qq-btn qq-edit-filename-icon"
                                  aria-label="Edit filename"></span>
                        </div>
                        <input class="qq-edit-filename-selector qq-edit-filename" tabindex="0" type="text">
                        <span class="qq-upload-size-selector qq-upload-size"></span>

                    </div>
                </li>
            </ul>

            <dialog class="qq-alert-dialog-selector">
                <div class="qq-dialog-message-selector"></div>
                <div class="qq-dialog-buttons">
                    <button type="button" class="qq-cancel-button-selector">Close</button>
                </div>
            </dialog>

            <dialog class="qq-confirm-dialog-selector">
                <div class="qq-dialog-message-selector"></div>
                <div class="qq-dialog-buttons">
                    <button type="button" class="qq-cancel-button-selector">No</button>
                    <button type="button" class="qq-ok-button-selector">Yes</button>
                </div>
            </dialog>

            <dialog class="qq-prompt-dialog-selector">
                <div class="qq-dialog-message-selector"></div>
                <input type="text">
                <div class="qq-dialog-buttons">
                    <button type="button" class="qq-cancel-button-selector">Cancel</button>
                    <button type="button" class="qq-ok-button-selector">Ok</button>
                </div>
            </dialog>
        </div>
    </script>

    <script>
        canonicals = [];
        operations = [];
    </script>

    <style>
        .preview {
            overflow: auto;
            /*padding: 10px;*/
            height: 300px;
            width: 280px;
            /*position: fixed;*/
            background: #fafafa;
            border-radius: 6px;
            border: 1px dashed #CCCCCC;
        }

        div.preview pre {
            background: #fafafa;
        }

        .json-property {
            color: #376875;
        }

        .json-dict {
            color: black;
        }
    </style>
</head>
<body>
<!-- multistep form -->
<form id="msform">
    <!-- progressbar -->
    <ul id="progressbar">
        <li class="active">Open API Specs</li>
        <li>Canonical</li>
        <li>Paraphrase</li>
        <li>Train model</li>
        <li>Webhook</li>
    </ul>
    <!-- fieldsets -->
    <fieldset>

        <h2 class="fs-title">Parse Open API Specs</h2>
        <h3 class="fs-subtitle">Upload your API specs to begin with</h3>

        <table>
            <tr>
                <td style="width: 400px">
                    <div id="uploader"></div>
                    <script>
                        // Some options to pass to the uploader are discussed on the next page
                        var uploader = new qq.FineUploader({
                            failedUploadTextDisplay: {
                                mode: 'none',
                                responseProperty: ''
                            },
                            retry: {
                                enableAuto: false,
                                showButton: false
                            },
                            element: document.getElementById("uploader"),
                            height: 100,
                            multiple: true,
                            debug: true,

                            imagePreviews: false,
                            thumbnails: {
                                placeholders: {
                                    notAvailablePath: "swagger-icon-250x250.png"
                                }
                            },
                            request: {
                                endpoint: 'http://localhost:8080/extract-operations'
                            },
                            validation: {
                                allowedExtensions: ['yaml']
                            },
                            callbacks: {
                                onComplete: function (id, name, responseJSON, xhr) {
                                    console.log(responseJSON);
                                    console.log(name);
                                    operations = operations.concat(responseJSON['apis'])
                                    console.log("Operations:")
                                    console.log(JSON.stringify(operations));
                                    var editor = new JsonEditor('#json-display', operations);
                                },
                                onError: function (id, name, errorReason, xhrOrXdr) {
//                                    alert(qq.format("Error on file number {} - {}.  Reason: {}", id, name, errorReason));
                                    console.log(xhrOrXdr);
                                    operations = [{
                                        "operations": [{
                                            "base_path": "/data/2.5",
                                            "desc": "The Weather endpoint returns information about the weather for a given location based on parameters\\nlike geo location, city, zipcode.\\n",
                                            "intent": "get__data_2.5_weather",
                                            "params": [{
                                                "desc": "Latitude component of location.",
                                                "is_auth_param": false,
                                                "location": "query",
                                                "name": "lat",
                                                "required": false,
                                                "type": "number"
                                            }, {
                                                "desc": "Longitude component of location.",
                                                "is_auth_param": false,
                                                "location": "query",
                                                "name": "lon",
                                                "required": false,
                                                "type": "number"
                                            }, {
                                                "desc": "City name and country code divided by a comma. e.g. Oxford,OH",
                                                "is_auth_param": false,
                                                "location": "query",
                                                "name": "q",
                                                "required": false,
                                                "type": "string"
                                            }, {
                                                "desc": "city id's. List can be found at http://bulk.openweathermap.org/sample/",
                                                "is_auth_param": false,
                                                "location": "query",
                                                "name": "id",
                                                "required": false,
                                                "type": "number"
                                            }, {
                                                "desc": "OAuth ID",
                                                "is_auth_param": false,
                                                "location": "query",
                                                "name": "appid",
                                                "required": true,
                                                "type": "string"
                                            }],
                                            "summary": "Get current weather",
                                            "url": "/data/2.5/weather",
                                            "verb": "get"
                                        }],
                                        "protocols": ["http"],
                                        "title": "OpenWeatherMap",
                                        "url": "api.openweathermap.org/data/2.5"
                                    }, {
                                        "operations": [{
                                            "base_path": "/v3",
                                            "intent": "autocomplete",
                                            "operation_id": "/autocomplete",
                                            "params": [{
                                                "desc": "",
                                                "is_auth_param": false,
                                                "location": "query",
                                                "name": "text",
                                                "required": true,
                                                "type": "string"
                                            }, {
                                                "is_auth_param": false,
                                                "location": "query",
                                                "name": "location",
                                                "required": true,
                                                "type": "number"
                                            }, {
                                                "is_auth_param": false,
                                                "location": "query",
                                                "name": "latitude",
                                                "required": false,
                                                "type": "number"
                                            }, {
                                                "is_auth_param": false,
                                                "location": "query",
                                                "name": "longitude",
                                                "required": false,
                                                "type": "number"
                                            }, {
                                                "is_auth_param": false,
                                                "location": "header",
                                                "name": "Authorization",
                                                "required": true,
                                                "type": "string"
                                            }],
                                            "summary": "/autocomplete",
                                            "url": "/v3/autocomplete",
                                            "verb": "get"
                                        }, {
                                            "base_path": "/v3",
                                            "intent": "businesses_search",
                                            "operation_id": "/businesses/search",
                                            "params": [{
                                                "desc": "",
                                                "is_auth_param": false,
                                                "location": "query",
                                                "name": "term",
                                                "required": true,
                                                "type": "string"
                                            }, {
                                                "is_auth_param": false,
                                                "location": "query",
                                                "name": "location",
                                                "required": true,
                                                "type": "number"
                                            }, {
                                                "is_auth_param": false,
                                                "location": "query",
                                                "name": "latitude",
                                                "required": false,
                                                "type": "number"
                                            }, {
                                                "is_auth_param": false,
                                                "location": "query",
                                                "name": "longitude",
                                                "required": false,
                                                "type": "number"
                                            }, {
                                                "is_auth_param": false,
                                                "location": "header",
                                                "name": "Authorization",
                                                "required": true,
                                                "type": "string"
                                            }],
                                            "summary": "/businesses/search",
                                            "url": "/v3/businesses/search",
                                            "verb": "get"
                                        }, {
                                            "base_path": "/v3",
                                            "intent": "businesses_search_phone",
                                            "operation_id": "/businesses/search/phone",
                                            "params": [{
                                                "desc": "",
                                                "is_auth_param": false,
                                                "location": "query",
                                                "name": "phone",
                                                "required": true,
                                                "type": "number"
                                            }, {
                                                "is_auth_param": false,
                                                "location": "header",
                                                "name": "Authorization",
                                                "required": true,
                                                "type": "string"
                                            }],
                                            "summary": "/businesses/search/phone",
                                            "url": "/v3/businesses/search/phone",
                                            "verb": "get"
                                        }, {
                                            "base_path": "/v3",
                                            "intent": "businesses_id",
                                            "operation_id": "/businesses/{id}",
                                            "params": [{
                                                "example": "north-india-restaurant-san-francisco",
                                                "is_auth_param": false,
                                                "location": "path",
                                                "name": "id",
                                                "required": true,
                                                "type": "string"
                                            }, {
                                                "is_auth_param": false,
                                                "location": "header",
                                                "name": "Authorization",
                                                "required": true,
                                                "type": "string"
                                            }],
                                            "summary": "/businesses/{id}",
                                            "url": "/v3/businesses/{id}",
                                            "verb": "get"
                                        }, {
                                            "base_path": "/v3",
                                            "intent": "businesses_id_reviews",
                                            "operation_id": "/businesses/{id}/reviews",
                                            "params": [{
                                                "example": "north-india-restaurant-san-francisco",
                                                "is_auth_param": false,
                                                "location": "path",
                                                "name": "id",
                                                "required": true,
                                                "type": "string"
                                            }, {
                                                "is_auth_param": false,
                                                "location": "header",
                                                "name": "Authorization",
                                                "required": true,
                                                "type": "string"
                                            }],
                                            "summary": "/businesses/{id}/reviews",
                                            "url": "/v3/businesses/{id}/reviews",
                                            "verb": "get"
                                        }, {
                                            "base_path": "/v3",
                                            "intent": "transactions_search",
                                            "operation_id": "/transactions/search",
                                            "params": [{
                                                "is_auth_param": false,
                                                "location": "query",
                                                "name": "location",
                                                "required": true,
                                                "type": "number"
                                            }, {
                                                "is_auth_param": false,
                                                "location": "query",
                                                "name": "latitude",
                                                "required": false,
                                                "type": "number"
                                            }, {
                                                "is_auth_param": false,
                                                "location": "query",
                                                "name": "longitude",
                                                "required": false,
                                                "type": "number"
                                            }, {
                                                "is_auth_param": false,
                                                "location": "header",
                                                "name": "Authorization",
                                                "required": true,
                                                "type": "string"
                                            }],
                                            "summary": "/transactions/search",
                                            "url": "/v3/transactions/delivery/search",
                                            "verb": "get"
                                        }], "protocols": ["https"], "title": "Yelp V3", "url": "api.yelp.com/v3"
                                    }]
                                }
                            }
                        })
                    </script>
                </td>
                <td style="vertical-align: top;">
                    Preview:
                    <div class="preview">

                        <pre style="text-align: left;width: fit-content;" id="json-display"></pre>
                    </div>
                </td>
            </tr>
        </table>


        <input type="button" name="next" class="next action-button" value="Next"/>
    </fieldset>
    <fieldset>
        <h2 class="fs-title">Canonical Utterance Generation</h2>
        <h3 class="fs-subtitle">Select the approaches for generating canonical utterances for extracted operations
            (intents)</h3>

        <table>
            <tr>
                <td style="width: 400px">
                    <div class="translators" style="text-align: left;">
                        <label class="container">Rule-based Translator
                            <input type="checkbox" checked="checked" id="RULE" value="RULE">
                            <span class="checkmark"></span>
                        </label>
                        <label class="container">Summary-based Translator
                            <input type="checkbox" id="SUMMARY" checked="checked" value="SUMMARY">
                            <span class="checkmark"></span>
                        </label>
                        <label class="container">Deep Learning Translator
                            <input type="checkbox" id="NEURAL" value="NEURAL" checked="checked">
                            <span class="checkmark"></span>
                        </label>

                    </div>
                </td>
                <td style="vertical-align: top;">
                    Preview:
                    <div class="preview">
                        <pre style="text-align: left;width: fit-content;" id="canonical-json-display"></pre>
                    </div>
                </td>
            </tr>
        </table>


        <input type="button" name="previous" class="previous action-button" value="Previous"/>

        <script>
            function to_canonical() {
                var rule = $('#RULE').is(':checked');
                var neural = $('#NEURAL').is(':checked');
                var summary = $('#SUMMARY').is(':checked');

                var q = "";
                if (rule)
                    q += "translators=RULE&";
                if (neural)
                    q += "translators=NEURAL&";
                if (summary)
                    q += "translators=SUMMARY&";

                url = "http://localhost:8080/generate-canonicals?" + q;

                canonicals = [{
                    "operations": [{
                        "base_path": "/data/2.5",
                        "canonicals": [{
                            "canonical": "get current weather",
                            "intent": "get__data_2.5_weather"
                        }, {
                            "canonical": "get current weather with lat being << lat >>",
                            "entities": [{
                                "desc": "Latitude component of location.",
                                "is_auth_param": false,
                                "location": "query",
                                "name": "lat",
                                "required": false,
                                "type": "number"
                            }],
                            "intent": "get__data_2.5_weather"
                        }, {
                            "canonical": "get current weather with Lon being << lon >>",
                            "entities": [{
                                "desc": "Longitude component of location.",
                                "is_auth_param": false,
                                "location": "query",
                                "name": "lon",
                                "required": false,
                                "type": "number"
                            }],
                            "intent": "get__data_2.5_weather"
                        }, {
                            "canonical": "get current weather with q being << q >>",
                            "entities": [{
                                "desc": "City name and country code divided by a comma. e.g. Oxford,OH",
                                "is_auth_param": false,
                                "location": "query",
                                "name": "q",
                                "required": false,
                                "type": "string"
                            }],
                            "intent": "get__data_2.5_weather"
                        }, {
                            "canonical": "get current weather with id being << id >>",
                            "entities": [{
                                "desc": "city id's. List can be found at http://bulk.openweathermap.org/sample/",
                                "is_auth_param": false,
                                "location": "query",
                                "name": "id",
                                "required": false,
                                "type": "number"
                            }],
                            "intent": "get__data_2.5_weather"
                        }, {
                            "canonical": "get current weather with app id being << appid >>",
                            "entities": [{
                                "desc": "OAuth ID",
                                "is_auth_param": false,
                                "location": "query",
                                "name": "appid",
                                "required": true,
                                "type": "string"
                            }],
                            "intent": "get__data_2.5_weather"
                        }],
                        "desc": "The Weather endpoint returns information about the weather for a given location based on parameters\\\\\\\\nlike geo location, city, zipcode.\\\\\\\\n",
                        "intent": "get__data_2.5_weather",
                        "params": [{
                            "desc": "Latitude component of location.",
                            "is_auth_param": false,
                            "location": "query",
                            "name": "lat",
                            "required": false,
                            "type": "number"
                        }, {
                            "desc": "Longitude component of location.",
                            "is_auth_param": false,
                            "location": "query",
                            "name": "lon",
                            "required": false,
                            "type": "number"
                        }, {
                            "desc": "City name and country code divided by a comma. e.g. Oxford,OH",
                            "is_auth_param": false,
                            "location": "query",
                            "name": "q",
                            "required": false,
                            "type": "string"
                        }, {
                            "desc": "city id's. List can be found at http://bulk.openweathermap.org/sample/",
                            "is_auth_param": false,
                            "location": "query",
                            "name": "id",
                            "required": false,
                            "type": "number"
                        }, {
                            "desc": "OAuth ID",
                            "is_auth_param": false,
                            "location": "query",
                            "name": "appid",
                            "required": true,
                            "type": "string"
                        }],
                        "summary": "Get current weather",
                        "url": "/data/2.5/weather",
                        "verb": "get"
                    }], "protocols": ["http"], "title": "OpenWeatherMap", "url": "api.openweathermap.org/data/2.5"
                }, {
                    "operations": [{
                        "base_path": "/v3",
                        "intent": "autocomplete",
                        "operation_id": "/autocomplete",
                        "params": [{
                            "desc": "",
                            "is_auth_param": false,
                            "location": "query",
                            "name": "text",
                            "required": true,
                            "type": "string"
                        }, {
                            "is_auth_param": false,
                            "location": "query",
                            "name": "location",
                            "required": true,
                            "type": "number"
                        }, {
                            "is_auth_param": false,
                            "location": "query",
                            "name": "latitude",
                            "required": false,
                            "type": "number"
                        }, {
                            "is_auth_param": false,
                            "location": "query",
                            "name": "longitude",
                            "required": false,
                            "type": "number"
                        }, {
                            "is_auth_param": false,
                            "location": "header",
                            "name": "Authorization",
                            "required": true,
                            "type": "string"
                        }],
                        "summary": "/autocomplete",
                        "url": "/v3/autocomplete",
                        "verb": "get"
                    }, {
                        "base_path": "/v3",
                        "intent": "businesses_search",
                        "operation_id": "/businesses/search",
                        "params": [{
                            "desc": "",
                            "is_auth_param": false,
                            "location": "query",
                            "name": "term",
                            "required": true,
                            "type": "string"
                        }, {
                            "is_auth_param": false,
                            "location": "query",
                            "name": "location",
                            "required": true,
                            "type": "number"
                        }, {
                            "is_auth_param": false,
                            "location": "query",
                            "name": "latitude",
                            "required": false,
                            "type": "number"
                        }, {
                            "is_auth_param": false,
                            "location": "query",
                            "name": "longitude",
                            "required": false,
                            "type": "number"
                        }, {
                            "is_auth_param": false,
                            "location": "header",
                            "name": "Authorization",
                            "required": true,
                            "type": "string"
                        }],
                        "summary": "/businesses/search",
                        "url": "/v3/businesses/search",
                        "verb": "get"
                    }, {
                        "base_path": "/v3",
                        "intent": "businesses_search_phone",
                        "operation_id": "/businesses/search/phone",
                        "params": [{
                            "desc": "",
                            "is_auth_param": false,
                            "location": "query",
                            "name": "phone",
                            "required": true,
                            "type": "number"
                        }, {
                            "is_auth_param": false,
                            "location": "header",
                            "name": "Authorization",
                            "required": true,
                            "type": "string"
                        }],
                        "summary": "/businesses/search/phone",
                        "url": "/v3/businesses/search/phone",
                        "verb": "get"
                    }, {
                        "base_path": "/v3",
                        "intent": "businesses_id",
                        "operation_id": "/businesses/{id}",
                        "params": [{
                            "example": "north-india-restaurant-san-francisco",
                            "is_auth_param": false,
                            "location": "path",
                            "name": "id",
                            "required": true,
                            "type": "string"
                        }, {
                            "is_auth_param": false,
                            "location": "header",
                            "name": "Authorization",
                            "required": true,
                            "type": "string"
                        }],
                        "summary": "/businesses/{id}",
                        "url": "/v3/businesses/{id}",
                        "verb": "get"
                    }, {
                        "base_path": "/v3",
                        "intent": "businesses_id_reviews",
                        "operation_id": "/businesses/{id}/reviews",
                        "params": [{
                            "example": "north-india-restaurant-san-francisco",
                            "is_auth_param": false,
                            "location": "path",
                            "name": "id",
                            "required": true,
                            "type": "string"
                        }, {
                            "is_auth_param": false,
                            "location": "header",
                            "name": "Authorization",
                            "required": true,
                            "type": "string"
                        }],
                        "summary": "/businesses/{id}/reviews",
                        "url": "/v3/businesses/{id}/reviews",
                        "verb": "get"
                    }, {
                        "base_path": "/v3",
                        "intent": "transactions_search",
                        "operation_id": "/transactions/search",
                        "params": [{
                            "is_auth_param": false,
                            "location": "query",
                            "name": "location",
                            "required": true,
                            "type": "number"
                        }, {
                            "is_auth_param": false,
                            "location": "query",
                            "name": "latitude",
                            "required": false,
                            "type": "number"
                        }, {
                            "is_auth_param": false,
                            "location": "query",
                            "name": "longitude",
                            "required": false,
                            "type": "number"
                        }, {
                            "is_auth_param": false,
                            "location": "header",
                            "name": "Authorization",
                            "required": true,
                            "type": "string"
                        }],
                        "summary": "/transactions/search",
                        "url": "/v3/transactions/delivery/search",
                        "verb": "get"
                    }], "protocols": ["https"], "title": "Yelp V3", "url": "api.yelp.com/v3"
                }];
                var editor = new JsonEditor('#canonical-json-display', canonicals);
//                $.post(url, JSON.stringify(operations), function (data, status, xhr) {
//                    canonicals = data;
//                    console.log(data);
//                }, "json");
            }
        </script>
        <input type="button" name="preview" class="action-button" value="Preview" onclick="to_canonical();"/>

        <input type="button" name="next" class="next action-button" value="Next"/>
    </fieldset>
    <fieldset>
        <h2 class="fs-title">Paraphrase</h2>
        <h3 class="fs-subtitle">To obtain diverse set of training utterances paraphrases your canonical sentences using
            the following paraphrasing systems and crowd-sourcing platforms</h3>


        <table>
            <tr>
                <td style="width: 400px">
                    <div class="paraphrasers" style="text-align: left;">


                        <span>Paraphrasers:</span>
                        <div style="padding: 10px">
                            <label class="container">Common-Prefix Paraphraser
                                <input type="checkbox" checked="checked" id="COMMON_PREFIX" value="COMMON_PREFIX">
                                <span class="checkmark"></span>
                            </label>
                            <label class="container">Nematus Paraphraser
                                <input type="checkbox" id="NEMATUS" checked="checked" value="NEMATUS">
                                <span class="checkmark"></span>
                            </label>
                            <label class="container">Apache Joshua
                                <input type="checkbox" id="APACHE_JOSHUA" value="APACHE_JOSHUA" checked="checked">
                                <span class="checkmark"></span>
                            </label>

                            <label disabled class="container" style="color: #525252">Crowdsourced Paraphrases
                                (Figure-Eight)
                                <input type="checkbox" disabled>
                                <span class="checkmark" disabled></span>
                            </label>


                        </div>
                        <span>Number of paraphrases:</span>
                        <input type="number" id="pcount"
                               placeholder="Maximum number of paraphrases per canonical sentences"
                               value="10">
                        <label class="container"> Return paraphrase similarity score
                            <input type="checkbox" checked="checked" id="SCORE" value="SCORE">
                            <span class="checkmark"></span>
                        </label>


                    </div>
                </td>
                <td style="vertical-align: top;">
                    Preview:
                    <div class="preview">
                        <pre style="text-align: left;width: fit-content;" id="traning_data-json-display"></pre>
                    </div>
                </td>
            </tr>
        </table>


        <input type="button" name="previous" class="previous action-button" value="Previous"/>

        <script>
            function to_traning_data() {
                var common = $('#COMMON_PREFIX').is(':checked');
                var joshua = $('#APACHE_JOSHUA').is(':checked');
                var nematus = $('#NEMATUS').is(':checked');
                var pcount = $('#pcount').val();
                var score = $('#SCORE').is(':checked');

                var q = "";
                if (common)
                    q += "paraphrasers=COMMON_PREFIX&";
                if (joshua)
                    q += "paraphrasers=APACHE_JOSHUA&";
                if (nematus)
                    q += "paraphrasers=NEMATUS&";
                if (score)
                    q += "score=true&";
                if (pcount)
                    q += "n=" + pcount;

                url = "http://localhost:8080/generate-paraphrases?" + q;
                traning_data = [{
                    "operations": [{
                        "base_path": "/data/2.5",
                        "canonicals": [{
                            "canonical": "get current weather",
                            "intent": "get__data_2.5_weather",
                            "paraphrases": [{
                                "method": "COMMON_PREFIX",
                                "paraphrase": "i would be pleased if you get current weather",
                                "score": 0.6727705860655374
                            }, {
                                "method": "COMMON_PREFIX",
                                "paraphrase": "would you mind if i ask you to get current weather",
                                "score": 0.6444540298014912
                            }, {
                                "method": "COMMON_PREFIX",
                                "paraphrase": "can you please get current weather",
                                "score": 0.7441656996012808
                            }, {
                                "method": "COMMON_PREFIX",
                                "paraphrase": "could you get current weather",
                                "score": 0.7339304336090174
                            }, {
                                "method": "COMMON_PREFIX",
                                "paraphrase": "could you please get current weather",
                                "score": 0.7116411970179318
                            }, {
                                "method": "COMMON_PREFIX",
                                "paraphrase": "can you get current weather",
                                "score": 0.7633218142422978
                            }, {
                                "method": "COMMON_PREFIX",
                                "paraphrase": "would you please get current weather",
                                "score": 0.7164081161021603
                            }, {
                                "method": "COMMON_PREFIX",
                                "paraphrase": "would you mind if i want you to get current weather",
                                "score": 0.5773240922264545
                            }, {
                                "method": "COMMON_PREFIX",
                                "paraphrase": "would you mind if i need you to get current weather",
                                "score": 0.5332566001996191
                            }, {
                                "method": "COMMON_PREFIX",
                                "paraphrase": "would you get current weather",
                                "score": 0.7106052812579458
                            }]
                        }, {
                            "canonical": "get current weather with lat being << lat >>",
                            "entities": [{
                                "desc": "Latitude component of location.",
                                "is_auth_param": false,
                                "location": "query",
                                "name": "lat",
                                "required": false,
                                "type": "number"
                            }],
                            "intent": "get__data_2.5_weather",
                            "paraphrases": [{
                                "entities": [{
                                    "desc": "Latitude component of location.",
                                    "example": "1757",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "lat",
                                    "required": false,
                                    "type": "number"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "could you get current weather with lat being 1757",
                                "score": 0.7845254306170358
                            }, {
                                "entities": [{
                                    "desc": "Latitude component of location.",
                                    "example": "1764",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "lat",
                                    "required": false,
                                    "type": "number"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "can you get current weather with lat being 1764",
                                "score": 0.764553220641986
                            }, {
                                "entities": [{
                                    "desc": "Latitude component of location.",
                                    "example": "1755",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "lat",
                                    "required": false,
                                    "type": "number"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "would you mind if i want you to get current weather with lat being 1755",
                                "score": 0.6949149808322406
                            }, {
                                "entities": [{
                                    "desc": "Latitude component of location.",
                                    "example": "1761",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "lat",
                                    "required": false,
                                    "type": "number"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "can you please get current weather with lat being 1761",
                                "score": 0.7933772899772298
                            }, {
                                "entities": [{
                                    "desc": "Latitude component of location.",
                                    "example": "1758",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "lat",
                                    "required": false,
                                    "type": "number"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "can you get current weather with lat being 1758",
                                "score": 0.7597617010191594
                            }, {
                                "entities": [{
                                    "desc": "Latitude component of location.",
                                    "example": "1762",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "lat",
                                    "required": false,
                                    "type": "number"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "could you please get current weather with lat being 1762",
                                "score": 0.7611517299054745
                            }, {
                                "entities": [{
                                    "desc": "Latitude component of location.",
                                    "example": "1764",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "lat",
                                    "required": false,
                                    "type": "number"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "would you mind if i ask you to get current weather with lat being 1764",
                                "score": 0.7399158959236031
                            }, {
                                "entities": [{
                                    "desc": "Latitude component of location.",
                                    "example": "1759",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "lat",
                                    "required": false,
                                    "type": "number"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "i would be pleased if you get current weather with lat being 1759",
                                "score": 0.754351066941343
                            }, {
                                "entities": [{
                                    "desc": "Latitude component of location.",
                                    "example": "1756",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "lat",
                                    "required": false,
                                    "type": "number"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "can you please get current weather with lat being 1756",
                                "score": 0.7832870178705645
                            }, {
                                "entities": [{
                                    "desc": "Latitude component of location.",
                                    "example": "1762",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "lat",
                                    "required": false,
                                    "type": "number"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "can you please get current weather with lat being 1762",
                                "score": 0.7818364993355016
                            }]
                        }, {
                            "canonical": "get current weather with Lon being << lon >>",
                            "entities": [{
                                "desc": "Longitude component of location.",
                                "is_auth_param": false,
                                "location": "query",
                                "name": "lon",
                                "required": false,
                                "type": "number"
                            }],
                            "intent": "get__data_2.5_weather",
                            "paraphrases": [{
                                "entities": [{
                                    "desc": "Longitude component of location.",
                                    "example": "1546",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "lon",
                                    "required": false,
                                    "type": "number"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "would you mind if i ask you to get current weather with Lon being 1546",
                                "score": 0.7690140323066946
                            }, {
                                "entities": [{
                                    "desc": "Longitude component of location.",
                                    "example": "1544",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "lon",
                                    "required": false,
                                    "type": "number"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "i would be pleased if you get current weather with Lon being 1544",
                                "score": 0.8009066072965095
                            }, {
                                "entities": [{
                                    "desc": "Longitude component of location.",
                                    "example": "1547",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "lon",
                                    "required": false,
                                    "type": "number"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "could you please get current weather with Lon being 1547",
                                "score": 0.7890510048951076
                            }, {
                                "entities": [{
                                    "desc": "Longitude component of location.",
                                    "example": "1543",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "lon",
                                    "required": false,
                                    "type": "number"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "i would be pleased if you get current weather with Lon being 1543",
                                "score": 0.7908527985537522
                            }, {
                                "entities": [{
                                    "desc": "Longitude component of location.",
                                    "example": "1545",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "lon",
                                    "required": false,
                                    "type": "number"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "could you get current weather with Lon being 1545",
                                "score": 0.7258558677112001
                            }, {
                                "entities": [{
                                    "desc": "Longitude component of location.",
                                    "example": "1545",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "lon",
                                    "required": false,
                                    "type": "number"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "would you mind if i want you to get current weather with Lon being 1545",
                                "score": 0.6870446606980187
                            }, {
                                "entities": [{
                                    "desc": "Longitude component of location.",
                                    "example": "1542",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "lon",
                                    "required": false,
                                    "type": "number"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "can you please get current weather with Lon being 1542",
                                "score": 0.804041503187422
                            }, {
                                "entities": [{
                                    "desc": "Longitude component of location.",
                                    "example": "1544",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "lon",
                                    "required": false,
                                    "type": "number"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "could you get current weather with Lon being 1544",
                                "score": 0.7780185480685978
                            }, {
                                "entities": [{
                                    "desc": "Longitude component of location.",
                                    "example": "1548",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "lon",
                                    "required": false,
                                    "type": "number"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "could you get current weather with Lon being 1548",
                                "score": 0.7892498539209004
                            }, {
                                "entities": [{
                                    "desc": "Longitude component of location.",
                                    "example": "1547",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "lon",
                                    "required": false,
                                    "type": "number"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "can you please get current weather with Lon being 1547",
                                "score": 0.8087245226131835
                            }]
                        }, {
                            "canonical": "get current weather with q being << q >>",
                            "entities": [{
                                "desc": "City name and country code divided by a comma. e.g. Oxford,OH",
                                "is_auth_param": false,
                                "location": "query",
                                "name": "q",
                                "required": false,
                                "type": "string"
                            }],
                            "intent": "get__data_2.5_weather",
                            "paraphrases": [{
                                "entities": [{
                                    "desc": "City name and country code divided by a comma. e.g. Oxford,OH",
                                    "example": "''forward to frank 30 dollars through HSBC''",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "q",
                                    "required": false,
                                    "type": "string"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "would you mind if i need you to get current weather with q being ''forward to frank 30 dollars through HSBC''",
                                "score": 0.4276132272042647
                            }, {
                                "entities": [{
                                    "desc": "City name and country code divided by a comma. e.g. Oxford,OH",
                                    "example": "''forward to frank 30 dollars through HSBC''",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "q",
                                    "required": false,
                                    "type": "string"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "would you mind if i want you to get current weather with q being ''forward to frank 30 dollars through HSBC''",
                                "score": 0.45522763536726046
                            }, {
                                "entities": [{
                                    "desc": "City name and country code divided by a comma. e.g. Oxford,OH",
                                    "example": "''forward to frank 30 dollars through HSBC''",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "q",
                                    "required": false,
                                    "type": "string"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "would you mind if i ask you to get current weather with q being ''forward to frank 30 dollars through HSBC''",
                                "score": 0.44869719523086476
                            }, {
                                "entities": [{
                                    "desc": "City name and country code divided by a comma. e.g. Oxford,OH",
                                    "example": "''forward to frank 30 dollars through HSBC''",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "q",
                                    "required": false,
                                    "type": "string"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "can you get current weather with q being ''forward to frank 30 dollars through HSBC''",
                                "score": 0.5092106282645831
                            }, {
                                "entities": [{
                                    "desc": "City name and country code divided by a comma. e.g. Oxford,OH",
                                    "example": "''forward to frank 30 dollars through HSBC''",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "q",
                                    "required": false,
                                    "type": "string"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "could you please get current weather with q being ''forward to frank 30 dollars through HSBC''",
                                "score": 0.5215706390802708
                            }, {
                                "entities": [{
                                    "desc": "City name and country code divided by a comma. e.g. Oxford,OH",
                                    "example": "''forward to frank 30 dollars through HSBC''",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "q",
                                    "required": false,
                                    "type": "string"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "can you please get current weather with q being ''forward to frank 30 dollars through HSBC''",
                                "score": 0.5368028869237293
                            }, {
                                "entities": [{
                                    "desc": "City name and country code divided by a comma. e.g. Oxford,OH",
                                    "example": "''forward to frank 30 dollars through HSBC''",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "q",
                                    "required": false,
                                    "type": "string"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "could you get current weather with q being ''forward to frank 30 dollars through HSBC''",
                                "score": 0.5101283106126357
                            }, {
                                "entities": [{
                                    "desc": "City name and country code divided by a comma. e.g. Oxford,OH",
                                    "example": "''forward to frank 30 dollars through HSBC''",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "q",
                                    "required": false,
                                    "type": "string"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "would you get current weather with q being ''forward to frank 30 dollars through HSBC''",
                                "score": 0.4237988554818977
                            }, {
                                "entities": [{
                                    "desc": "City name and country code divided by a comma. e.g. Oxford,OH",
                                    "example": "''forward to frank 30 dollars through HSBC''",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "q",
                                    "required": false,
                                    "type": "string"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "i would be pleased if you get current weather with q being ''forward to frank 30 dollars through HSBC''",
                                "score": 0.4964958556630427
                            }, {
                                "entities": [{
                                    "desc": "City name and country code divided by a comma. e.g. Oxford,OH",
                                    "example": "''forward to frank 30 dollars through HSBC''",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "q",
                                    "required": false,
                                    "type": "string"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "would you please get current weather with q being ''forward to frank 30 dollars through HSBC''",
                                "score": 0.4727361067682821
                            }]
                        }, {
                            "canonical": "get current weather with id being << id >>",
                            "entities": [{
                                "desc": "city id's. List can be found at http://bulk.openweathermap.org/sample/",
                                "is_auth_param": false,
                                "location": "query",
                                "name": "id",
                                "required": false,
                                "type": "number"
                            }],
                            "intent": "get__data_2.5_weather",
                            "paraphrases": [{
                                "entities": [{
                                    "desc": "city id's. List can be found at http://bulk.openweathermap.org/sample/",
                                    "example": "1391",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "id",
                                    "required": false,
                                    "type": "number"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "could you please get current weather with id being 1391",
                                "score": 0.7958457072355697
                            }, {
                                "entities": [{
                                    "desc": "city id's. List can be found at http://bulk.openweathermap.org/sample/",
                                    "example": "1386",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "id",
                                    "required": false,
                                    "type": "number"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "would you get current weather with id being 1386",
                                "score": 0.7014758638235759
                            }, {
                                "entities": [{
                                    "desc": "city id's. List can be found at http://bulk.openweathermap.org/sample/",
                                    "example": "1387",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "id",
                                    "required": false,
                                    "type": "number"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "would you mind if i want you to get current weather with id being 1387",
                                "score": 0.7131176989390584
                            }, {
                                "entities": [{
                                    "desc": "city id's. List can be found at http://bulk.openweathermap.org/sample/",
                                    "example": "1388",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "id",
                                    "required": false,
                                    "type": "number"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "would you please get current weather with id being 1388",
                                "score": 0.7670182758324208
                            }, {
                                "entities": [{
                                    "desc": "city id's. List can be found at http://bulk.openweathermap.org/sample/",
                                    "example": "1390",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "id",
                                    "required": false,
                                    "type": "number"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "would you get current weather with id being 1390",
                                "score": 0.7088967434043469
                            }, {
                                "entities": [{
                                    "desc": "city id's. List can be found at http://bulk.openweathermap.org/sample/",
                                    "example": "1384",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "id",
                                    "required": false,
                                    "type": "number"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "would you mind if i ask you to get current weather with id being 1384",
                                "score": 0.697868662150974
                            }, {
                                "entities": [{
                                    "desc": "city id's. List can be found at http://bulk.openweathermap.org/sample/",
                                    "example": "1391",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "id",
                                    "required": false,
                                    "type": "number"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "could you get current weather with id being 1391",
                                "score": 0.8224168731032361
                            }, {
                                "entities": [{
                                    "desc": "city id's. List can be found at http://bulk.openweathermap.org/sample/",
                                    "example": "1389",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "id",
                                    "required": false,
                                    "type": "number"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "can you get current weather with id being 1389",
                                "score": 0.7864412134969828
                            }, {
                                "entities": [{
                                    "desc": "city id's. List can be found at http://bulk.openweathermap.org/sample/",
                                    "example": "1392",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "id",
                                    "required": false,
                                    "type": "number"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "can you please get current weather with id being 1392",
                                "score": 0.8025222316350472
                            }, {
                                "entities": [{
                                    "desc": "city id's. List can be found at http://bulk.openweathermap.org/sample/",
                                    "example": "1392",
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "id",
                                    "required": false,
                                    "type": "number"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "would you mind if i need you to get current weather with id being 1392",
                                "score": 0.6415303437992437
                            }]
                        }, {
                            "canonical": "get current weather with app id being << appid >>",
                            "entities": [{
                                "desc": "OAuth ID",
                                "is_auth_param": false,
                                "location": "query",
                                "name": "appid",
                                "required": true,
                                "type": "string"
                            }],
                            "intent": "get__data_2.5_weather",
                            "paraphrases": [{
                                "entities": [{
                                    "desc": "OAuth ID",
                                    "example": 3,
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "appid",
                                    "required": true,
                                    "type": "string"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "would you mind if i want you to get current weather with app id being 3",
                                "score": 0.7007292404553871
                            }, {
                                "entities": [{
                                    "desc": "OAuth ID",
                                    "example": 8,
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "appid",
                                    "required": true,
                                    "type": "string"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "would you get current weather with app id being 8",
                                "score": 0.7133436260845518
                            }, {
                                "entities": [{
                                    "desc": "OAuth ID",
                                    "example": 6,
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "appid",
                                    "required": true,
                                    "type": "string"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "would you get current weather with app id being 6",
                                "score": 0.7021496661050097
                            }, {
                                "entities": [{
                                    "desc": "OAuth ID",
                                    "example": 3,
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "appid",
                                    "required": true,
                                    "type": "string"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "i would be pleased if you get current weather with app id being 3",
                                "score": 0.7445038925654333
                            }, {
                                "entities": [{
                                    "desc": "OAuth ID",
                                    "example": 2,
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "appid",
                                    "required": true,
                                    "type": "string"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "would you mind if i need you to get current weather with app id being 2",
                                "score": 0.6789617401597772
                            }, {
                                "entities": [{
                                    "desc": "OAuth ID",
                                    "example": 10,
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "appid",
                                    "required": true,
                                    "type": "string"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "would you mind if i want you to get current weather with app id being 10",
                                "score": 0.6849857041553487
                            }, {
                                "entities": [{
                                    "desc": "OAuth ID",
                                    "example": 4,
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "appid",
                                    "required": true,
                                    "type": "string"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "can you get current weather with app id being 4",
                                "score": 0.7043413528205896
                            }, {
                                "entities": [{
                                    "desc": "OAuth ID",
                                    "example": 1,
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "appid",
                                    "required": true,
                                    "type": "string"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "would you get current weather with app id being 1",
                                "score": 0.7687851132111125
                            }, {
                                "entities": [{
                                    "desc": "OAuth ID",
                                    "example": 5,
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "appid",
                                    "required": true,
                                    "type": "string"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "could you please get current weather with app id being 5",
                                "score": 0.7732051935311843
                            }, {
                                "entities": [{
                                    "desc": "OAuth ID",
                                    "example": 6,
                                    "is_auth_param": false,
                                    "location": "query",
                                    "name": "appid",
                                    "required": true,
                                    "type": "string"
                                }],
                                "method": "COMMON_PREFIX",
                                "paraphrase": "would you mind if i want you to get current weather with app id being 6",
                                "score": 0.6675749549486887
                            }]
                        }],
                        "desc": "The Weather endpoint returns information about the weather for a given location based on parameters\\\\\\\\nlike geo location, city, zipcode.\\\\\\\\n",
                        "intent": "get__data_2.5_weather",
                        "params": [{
                            "desc": "Latitude component of location.",
                            "is_auth_param": false,
                            "location": "query",
                            "name": "lat",
                            "required": false,
                            "type": "number"
                        }, {
                            "desc": "Longitude component of location.",
                            "is_auth_param": false,
                            "location": "query",
                            "name": "lon",
                            "required": false,
                            "type": "number"
                        }, {
                            "desc": "City name and country code divided by a comma. e.g. Oxford,OH",
                            "is_auth_param": false,
                            "location": "query",
                            "name": "q",
                            "required": false,
                            "type": "string"
                        }, {
                            "desc": "city id's. List can be found at http://bulk.openweathermap.org/sample/",
                            "is_auth_param": false,
                            "location": "query",
                            "name": "id",
                            "required": false,
                            "type": "number"
                        }, {
                            "desc": "OAuth ID",
                            "is_auth_param": false,
                            "location": "query",
                            "name": "appid",
                            "required": true,
                            "type": "string"
                        }],
                        "summary": "Get current weather",
                        "url": "/data/2.5/weather",
                        "verb": "get"
                    }], "protocols": ["http"], "title": "OpenWeatherMap", "url": "api.openweathermap.org/data/2.5"
                }, {
                    "operations": [{
                        "base_path": "/v3",
                        "intent": "autocomplete",
                        "operation_id": "/autocomplete",
                        "params": [{
                            "desc": "",
                            "is_auth_param": false,
                            "location": "query",
                            "name": "text",
                            "required": true,
                            "type": "string"
                        }, {
                            "is_auth_param": false,
                            "location": "query",
                            "name": "location",
                            "required": true,
                            "type": "number"
                        }, {
                            "is_auth_param": false,
                            "location": "query",
                            "name": "latitude",
                            "required": false,
                            "type": "number"
                        }, {
                            "is_auth_param": false,
                            "location": "query",
                            "name": "longitude",
                            "required": false,
                            "type": "number"
                        }, {
                            "is_auth_param": false,
                            "location": "header",
                            "name": "Authorization",
                            "required": true,
                            "type": "string"
                        }],
                        "summary": "/autocomplete",
                        "url": "/v3/autocomplete",
                        "verb": "get"
                    }, {
                        "base_path": "/v3",
                        "intent": "businesses_search",
                        "operation_id": "/businesses/search",
                        "params": [{
                            "desc": "",
                            "is_auth_param": false,
                            "location": "query",
                            "name": "term",
                            "required": true,
                            "type": "string"
                        }, {
                            "is_auth_param": false,
                            "location": "query",
                            "name": "location",
                            "required": true,
                            "type": "number"
                        }, {
                            "is_auth_param": false,
                            "location": "query",
                            "name": "latitude",
                            "required": false,
                            "type": "number"
                        }, {
                            "is_auth_param": false,
                            "location": "query",
                            "name": "longitude",
                            "required": false,
                            "type": "number"
                        }, {
                            "is_auth_param": false,
                            "location": "header",
                            "name": "Authorization",
                            "required": true,
                            "type": "string"
                        }],
                        "summary": "/businesses/search",
                        "url": "/v3/businesses/search",
                        "verb": "get"
                    }, {
                        "base_path": "/v3",
                        "intent": "businesses_search_phone",
                        "operation_id": "/businesses/search/phone",
                        "params": [{
                            "desc": "",
                            "is_auth_param": false,
                            "location": "query",
                            "name": "phone",
                            "required": true,
                            "type": "number"
                        }, {
                            "is_auth_param": false,
                            "location": "header",
                            "name": "Authorization",
                            "required": true,
                            "type": "string"
                        }],
                        "summary": "/businesses/search/phone",
                        "url": "/v3/businesses/search/phone",
                        "verb": "get"
                    }, {
                        "base_path": "/v3",
                        "intent": "businesses_id",
                        "operation_id": "/businesses/{id}",
                        "params": [{
                            "example": "north-india-restaurant-san-francisco",
                            "is_auth_param": false,
                            "location": "path",
                            "name": "id",
                            "required": true,
                            "type": "string"
                        }, {
                            "is_auth_param": false,
                            "location": "header",
                            "name": "Authorization",
                            "required": true,
                            "type": "string"
                        }],
                        "summary": "/businesses/{id}",
                        "url": "/v3/businesses/{id}",
                        "verb": "get"
                    }, {
                        "base_path": "/v3",
                        "intent": "businesses_id_reviews",
                        "operation_id": "/businesses/{id}/reviews",
                        "params": [{
                            "example": "north-india-restaurant-san-francisco",
                            "is_auth_param": false,
                            "location": "path",
                            "name": "id",
                            "required": true,
                            "type": "string"
                        }, {
                            "is_auth_param": false,
                            "location": "header",
                            "name": "Authorization",
                            "required": true,
                            "type": "string"
                        }],
                        "summary": "/businesses/{id}/reviews",
                        "url": "/v3/businesses/{id}/reviews",
                        "verb": "get"
                    }, {
                        "base_path": "/v3",
                        "intent": "transactions_search",
                        "operation_id": "/transactions/search",
                        "params": [{
                            "is_auth_param": false,
                            "location": "query",
                            "name": "location",
                            "required": true,
                            "type": "number"
                        }, {
                            "is_auth_param": false,
                            "location": "query",
                            "name": "latitude",
                            "required": false,
                            "type": "number"
                        }, {
                            "is_auth_param": false,
                            "location": "query",
                            "name": "longitude",
                            "required": false,
                            "type": "number"
                        }, {
                            "is_auth_param": false,
                            "location": "header",
                            "name": "Authorization",
                            "required": true,
                            "type": "string"
                        }],
                        "summary": "/transactions/search",
                        "url": "/v3/transactions/delivery/search",
                        "verb": "get"
                    }], "protocols": ["https"], "title": "Yelp V3", "url": "api.yelp.com/v3"
                }]
                var editor = new JsonEditor('#traning_data-json-display', traning_data);


            }
        </script>
        <input type="button" name="preview" class="action-button" value="Preview" onclick="to_traning_data();"/>

        <input type="button" name="next" class="next action-button" value="Next"/>


    </fieldset>
    <fieldset>
        <h2 class="fs-title">Train NLU Model</h2>
        <h3 class="fs-subtitle">Select you NLU platform to train your NLU model</h3>


        <table>
            <tr>
                <td style="width: 100px">

                </td>
                <td style="width: 400px">
                    <div class="paraphrasers" style="text-align: left;">

                        <div style="margin-bottom: 9px">
                            <span>Bot Platform:</span>
                            <select name="platform" id="platform" style="display: inline-block; margin: 10px">
                                <option selected="selected">Wit.ai</option>
                                <option>Dialogflow</option>
                                <option>Watson</option>
                                <option>Lex</option>
                                <option>Azure Bot</option>
                            </select>
                        </div>

                        <script>
                            $(function () {
                                $("#platform").selectmenu();
                                $("#programming_language").selectmenu();
                            });
                        </script>

                        <input id="Bot"
                               placeholder="Name of the bot"
                               value="">

                        <input id="Authorization"
                               placeholder="Authorization Key"
                               value="">
                        <input id="APP_ID"
                               placeholder="Application ID"
                               value="">
                        <!--<label class="container"> Return paraphrase similarity score-->
                        <!--<input type="checkbox" checked="checked" id="APP_ID" value="SCORE">-->
                        <!--<span class="checkmark"></span>-->
                        <!--</label>-->


                    </div>
                </td>

            </tr>
        </table>


        <input type="button" name="previous" class="previous action-button" value="Previous"/>
        <input type="button" name="next" class="next action-button" value="Next"/>


    </fieldset>
    <fieldset>
        <h2 class="fs-title">Create a Webhook Server</h2>
        <h3 class="fs-subtitle">Select a programming language to built the webhook server</h3>


        <table>
            <tr>
                <td style="width: 100px">

                </td>
                <td style="width: 400px">

                    <div style="margin-bottom: 9px">
                        <span>Bot Platform:</span>
                        <select name="programming_language" id="programming_language"
                                style="display: inline-block; margin: 10px">
                            <option selected="selected">Python</option>
                            <option disabled="disabled">Java</option>
                        </select>


                        <span style="padding-top: 15px;     display: inline-block;">Openweather Authentication Parameters:</span>
                        <input id="App ID" placeholder="OAuth ID" value="">


                        <span>Yelp Authentication Parameters:</span>
                        <input id="Authorization" placeholder="Bearer token" value="">
                    </div>
                    <div>

                        Clink on the download button for the webhook functions. You can also access to a sample bot UI
                        <a href="http://apikg-dc.eu.ngrok.io/bots/4a6d5e97-c12b-48e8-8712-38f2e92ae8de/ui">here</a>
                    </div>
            </tr>

        </table>



        <input type="button" name="previous" class="previous action-button" value="Previous"/>
        <a type="button" name="Download" style="    font-size: x-small;  width: 85px;   display: inline-block;"
           class="download action-button" value="Download"
           href="http://apikg-dc.eu.ngrok.io/bots/download/bot_4a6d5e97-c12b-48e8-8712-38f2e92ae8de.zip">Download</a>


    </fieldset>
</form>
</body>
</html>


<script>

    //jQuery time
    var current_fs, next_fs, previous_fs; //fieldsets
    var left, opacity, scale; //fieldset properties which we will animate
    var animating; //flag to prevent quick multi-click glitches

    $(".next").click(function () {
        if (animating) return false;
        animating = true;

        current_fs = $(this).parent();
        next_fs = $(this).parent().next();

        //activate next step on progressbar using the index of next_fs
        $("#progressbar li").eq($("fieldset").index(next_fs)).addClass("active");

        //show the next fieldset
        next_fs.show();
        //hide the current fieldset with style
        current_fs.animate({opacity: 0}, {
            step: function (now, mx) {
                //as the opacity of current_fs reduces to 0 - stored in "now"
                //1. scale current_fs down to 80%
                scale = 1 - (1 - now) * 0.2;
                //2. bring next_fs from the right(50%)
                left = (now * 50) + "%";
                //3. increase opacity of next_fs to 1 as it moves in
                opacity = 1 - now;
                current_fs.css({
                    'transform': 'scale(' + scale + ')',
                    'position': 'absolute'
                });
                next_fs.css({'left': left, 'opacity': opacity});
            },
            duration: 800,
            complete: function () {
                current_fs.hide();
                animating = false;
            },
            //this comes from the custom easing plugin
            easing: 'easeInOutBack'
        });
    });

    $(".previous").click(function () {
        if (animating) return false;
        animating = true;

        current_fs = $(this).parent();
        previous_fs = $(this).parent().prev();

        //de-activate current step on progressbar
        $("#progressbar li").eq($("fieldset").index(current_fs)).removeClass("active");

        //show the previous fieldset
        previous_fs.show();
        //hide the current fieldset with style
        current_fs.animate({opacity: 0}, {
            step: function (now, mx) {
                //as the opacity of current_fs reduces to 0 - stored in "now"
                //1. scale previous_fs from 80% to 100%
                scale = 0.8 + (1 - now) * 0.2;
                //2. take current_fs to the right(50%) - from 0%
                left = ((1 - now) * 50) + "%";
                //3. increase opacity of previous_fs to 1 as it moves in
                opacity = 1 - now;
                current_fs.css({'left': left});
                previous_fs.css({'transform': 'scale(' + scale + ')', 'opacity': opacity});
            },
            duration: 800,
            complete: function () {
                current_fs.hide();
                animating = false;
            },
            //this comes from the custom easing plugin
            easing: 'easeInOutBack'
        });
    });

    $(".submit").click(function () {
        return false;
    })

</script>